<div class="col-12">
  <p-card header="Update Company">
    <form [formGroup]="companyReqDto" (ngSubmit)="onUpdate()">
      <div class="grid">
        <div class="col-12 md:col-2">
          <ng-container *ngIf="company">
            <p-image [src]="company.photoId | url" alt="Image" width="100%" height="250px"></p-image>
            <p-fileUpload mode="basic" styleClass="bg-green-700" chooseLabel="Change Picture" chooseIcon="pi pi-upload"
              class="form-control" #file type="file" id="picture" (onSelect)="fileUpload($event,file)"></p-fileUpload>
          </ng-container>
        </div>
        <div class="p-fluid p-formgrid grid col-12 md:col-9">
          <div class="field col-12 md:col-12">
            <label htmlFor="companyName">Company Name <span class="text-red-500">*</span> </label>
            <input pInputText id="companyName" required type="text" value="company.companyName"
              formControlName="companyName" />
            <span class="text-red-500 ml-2" *ngIf="
            companyReqDto.get('companyName')!.invalid &&
            !companyReqDto.get('companyName')!.value &&
            (companyReqDto.get('companyName')!.dirty ||
              companyReqDto.get('companyName')!.touched)
          ">Input can't be empty</span>
          </div>
          <div class="field col-12">
            <label htmlFor="address">Address<span class="text-red-500">*</span></label>
            <textarea pInputTextarea id="address" required rows="4" cols="50" formControlName="address"></textarea>
            <span class="text-red-500 ml-2" *ngIf="
            companyReqDto.get('address')!.invalid &&
            !companyReqDto.get('address')!.value &&
            (companyReqDto.get('address')!.dirty ||
              companyReqDto.get('address')!.touched)
          ">Input can't be empty</span>
          </div>
          <div class="field col-12 md:col-6">
            <label htmlFor="url">Company Url<span class="text-red-500">*</span></label>
            <input pInputText id="url" required type="text" formControlName="companyUrl" />
            <span class="text-red-500 ml-2" *ngIf="
            companyReqDto.get('companyUrl')!.invalid &&
            !companyReqDto.get('companyUrl')!.value &&
            (companyReqDto.get('companyUrl')!.dirty ||
              companyReqDto.get('companyUrl')!.touched)
          ">Input can't be empty</span>
          </div>
          <div class="field col-12 md:col-6">
            <label htmlFor="phoneNumber">Company Phone Number<span class="text-red-500">*</span></label>
            <input pInputText id="phoneNumber" required type="text" formControlName="companyPhone" />
            <span class="text-red-500 ml-2" *ngIf="
            companyReqDto.get('companyPhone')!.invalid &&
            !companyReqDto.get('companyPhone')!.value &&
            (companyReqDto.get('companyPhone')!.dirty ||
              companyReqDto.get('companyPhone')!.touched)
          ">Input can't be empty</span>
          </div>
          <div class="col-12 md:col-9 mb-5 mt-6 flex ">
            <app-button [loading]="loading" backgroundColor="var(--PRIMARY)" (clickChange)="checkForm(companyReqDto)"
              iconBtn="pi pi-save" typeBtn="submit" label="Save" class=" mr-2"></app-button>
            <app-button link="/companies/detail/{{ company.id }}" label="Cancel" classBtn="p-button-secondary">
            </app-button>
          </div>
        </div>
      </div>
    </form>
  </p-card>
</div>
